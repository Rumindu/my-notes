# Introduction to Dependency Injection

<!-- omit from toc -->
## Table of Contents

- [What is Dependency Injection](#what-is-dependency-injection)
- [Why Dependency Injection Matters](#why-dependency-injection-matters)
- [Spring Boot's Approach to Dependency Injection](#spring-boots-approach-to-dependency-injection)
- [Implementation Methods](#implementation-methods)
- [IoC Container Overview](#ioc-container-overview)
- [Configuration and Bean Management](#configuration-and-bean-management)
  - [Annotation-Based Configuration](#annotation-based-configuration)
  - [Bean Selection Control](#bean-selection-control)
  - [External Configuration](#external-configuration)
- [Advanced Topics Covered](#advanced-topics-covered)
  - [Programmatic Bean Configuration](#programmatic-bean-configuration)
  - [Performance Optimization](#performance-optimization)
  - [Bean Scopes](#bean-scopes)
  - [Bean Lifecycle Management](#bean-lifecycle-management)
- [Key Points](#key-points)
- [Links/References](#linksreferences)

## What is Dependency Injection

- **Core feature**: One of the most important concepts in the Spring Framework
- **Real-world usage**: Widely used in production applications
- **Definition**: A design pattern that provides dependencies to objects rather than having them create dependencies themselves
- **Purpose**: Makes code cleaner, more maintainable, and easier to test

![Dependency Injection Concept Overview](assets/dependency-injection-concept-overview.png)

## Why Dependency Injection Matters

- **Cleaner code**: Reduces tight coupling between components
- **Easier maintenance**: Changes to dependencies don't require modifying dependent classes
- **Better testability**: Easy to mock dependencies for unit testing
- **Flexibility**: Swap implementations without changing client code
- **Separation of concerns**: Objects focus on their core responsibility

![Benefits of Dependency Injection](assets/dependency-injection-benefits-diagram.png)

## Spring Boot's Approach to Dependency Injection

- **IoC Container**: Spring Boot manages object creation and dependency resolution
- **Automatic wiring**: Framework automatically injects dependencies where needed
- **Configuration-driven**: Use annotations to control dependency injection behavior
- **Container management**: Spring handles the entire lifecycle of beans

![Spring Boot IoC Container Architecture](assets/spring-boot-ioc-container-architecture.png)

## Implementation Methods

- **Constructor injection**: Primary method for injecting dependencies (recommended approach)
- **Field injection**: Direct injection into class fields using annotations
- **Setter injection**: Injection through setter methods
- **Best practice**: Constructor injection provides immutable dependencies and clear contracts

```java
// Constructor injection example (recommended)
@Service
public class OrderService {
    private final PaymentService paymentService;
    
    // Constructor injection
    public OrderService(PaymentService paymentService) {
        this.paymentService = paymentService;
    }
}
```

![Constructor Injection Implementation](assets/constructor-injection-implementation.png)

## IoC Container Overview

- **Inversion of Control**: Framework controls object creation instead of application code
- **Bean management**: Container creates, configures, and manages application components
- **Lifecycle control**: Handles initialization, dependency resolution, and cleanup
- **Automatic discovery**: Finds and registers beans using component scanning

![IoC Container Bean Lifecycle](assets/ioc-container-bean-lifecycle.png)

## Configuration and Bean Management

### Annotation-Based Configuration
- **@Component**: Marks classes as Spring-managed beans
- **@Service**: Specialized component for business logic
- **@Repository**: Data access layer components
- **@Controller**: Web layer components

### Bean Selection Control
- **Multiple implementations**: Handle cases where multiple beans of same type exist
- **@Qualifier**: Specify which bean to inject when multiple options available
- **@Primary**: Mark preferred bean when multiple candidates exist

![Bean Configuration Annotations](assets/bean-configuration-annotations.png)

### External Configuration
- **Properties files**: Configure beans using external property files
- **Environment profiles**: Different configurations for different environments
- **Flexibility**: Change behavior without modifying source code

## Advanced Topics Covered

### Programmatic Bean Configuration
- **Java configuration**: Define beans using @Configuration classes
- **@Bean methods**: Create beans programmatically with custom logic
- **Conditional beans**: Create beans based on runtime conditions

### Performance Optimization
- **Lazy initialization**: Create beans only when first accessed
- **Startup time**: Reduce application startup time with lazy loading
- **Memory efficiency**: Load beans on-demand rather than eagerly

### Bean Scopes
- **Singleton**: Single instance per Spring container (default)
- **Prototype**: New instance for each request
- **Request/Session**: Web-specific scopes for HTTP requests/sessions
- **Custom scopes**: Define application-specific bean scopes

### Bean Lifecycle Management
- **Initialization callbacks**: Execute code after bean creation
- **Destruction callbacks**: Cleanup code before bean destruction
- **Custom lifecycle**: Control exactly when and how beans are created/destroyed

![Advanced Dependency Injection Topics](assets/advanced-dependency-injection-topics.png)

## Key Points

- **Main takeaway**: Dependency injection is a fundamental Spring concept that makes applications more maintainable and testable
- **When to use**: In all Spring applications for managing component dependencies
- **Implementation approach**: Prefer constructor injection for mandatory dependencies
- **Spring's role**: IoC container automatically manages dependency resolution and bean lifecycle
- **Configuration options**: Use annotations for simple cases, programmatic configuration for complex scenarios
- **Performance considerations**: Use lazy initialization and appropriate bean scopes for optimal resource usage
- **Best practices**: Combine proper configuration with external properties for maximum flexibility

## Links/References

- Video: 3.1-Introduction.mp4 (1m 1s)
- Previous: [Configuring Application Properties](2.11-Configuring-Application-Properties.md)
- Next: Understanding Dependency Injection Fundamentals

---

**Created**: July 30, 2025  
**Last Modified**: July 30, 2025
