# Simplifying Code with Lombok

<!-- omit from toc -->

## Table of Contents

- [Table of Contents](#table-of-contents)
- [Lombok Overview](#lombok-overview)
- [Adding Lombok Dependency](#adding-lombok-dependency)
- [Enabling Annotation Processing](#enabling-annotation-processing)
- [Using Lombok Annotations](#using-lombok-annotations)
  - [Getter and Setter Annotations](#getter-and-setter-annotations)
  - [Constructor Annotations](#constructor-annotations)
  - [Builder Pattern Implementation](#builder-pattern-implementation)
- [Testing Lombok Integration](#testing-lombok-integration)
- [Key Points](#key-points)
- [Links/References](#linksreferences)

## Lombok Overview

- **Problem**: Repetitive boilerplate code with getters, setters, and constructors
- **Solution**: Lombok library provides annotations for automatic code generation
- **Compile-time generation**: Code generated automatically during compilation
- **Origin**: Named after beautiful island in Indonesia

![Lombok Boilerplate Code Problem](assets/lombok-boilerplate-code-problem.png)

**Benefits of using Lombok:**
- Reduces repetitive getter/setter code
- Automatic constructor generation
- Builder pattern implementation
- Cleaner, more maintainable code

## Adding Lombok Dependency

- **Method 1**: Click "Add Starter" button in IDE
- **Method 2**: Use generate context menu → "Add Starters"
- **Search term**: "Lombok" in dependency dialog
- **Artifact details**: `org.projectlombok:lombok`

![Adding Lombok Dependency Dialog](assets/adding-lombok-dependency-dialog.png)

```xml
<!-- Lombok dependency added to pom.xml -->
<dependency>
    <groupId>org.projectlombok</groupId>
    <artifactId>lombok</artifactId>
</dependency>
```

![Lombok Dependency in POM XML](assets/lombok-dependency-pom-xml.png)

## Enabling Annotation Processing

- **First-time setup**: Required for Lombok to work in IntelliJ
- **Settings location**: File/Edit menu → Settings (Mac: IntelliJ IDEA → Settings)
- **Search term**: "annotation processing"
- **Location**: Build, Execution, Deployment → Compiler → Annotation Processors
- **Action**: Enable "Enable annotation processing" checkbox

![IntelliJ Settings Menu Navigation](assets/intellij-settings-menu-navigation.png)

![Annotation Processing Settings](assets/annotation-processing-settings-dialog.png)

**Configuration steps:**
1. Open IntelliJ Settings
2. Search for "annotation processing"
3. Navigate to Compiler → Annotation Processors
4. Check "Enable annotation processing"
5. Click OK to apply changes

## Using Lombok Annotations

### Getter and Setter Annotations

- **IDE suggestion**: IntelliJ suggests Lombok usage automatically
- **Quick action**: Alt + Enter to apply Lombok annotations
- **@Getter**: Generates all getter methods at compile time
- **@Setter**: Generates all setter methods at compile time

![Lombok Getter Suggestion](assets/lombok-getter-suggestion-popup.png)

```java
// Before Lombok
public class User {
    private Long id;
    private String name;
    private String email;
    private String password;
    
    // Multiple getter methods...
    // Multiple setter methods...
}

// After Lombok
@Getter
@Setter
public class User {
    private Long id;
    private String name;
    private String email;
    private String password;
    // All getters and setters generated automatically
}
```

![User Class with Lombok Annotations](assets/user-class-lombok-annotations.png)

**Annotation application process:**
1. Hover over class name for suggestions
2. Press Alt + Enter for actions menu
3. Select "Use Lombok @Getter for User"
4. Repeat for @Setter annotation
5. All boilerplate code disappears

### Constructor Annotations

- **@AllArgsConstructor**: Generates constructor with all fields as parameters
- **@NoArgsConstructor**: Generates default no-argument constructor
- **JPA requirement**: No-argument constructor required for JPA/Hibernate entities

![Constructor Annotation Warning](assets/constructor-annotation-jpa-warning.png)

```java
@Getter
@Setter
@AllArgsConstructor
@NoArgsConstructor
public class User {
    private Long id;
    private String name;
    private String email;
    private String password;
}
```

**Constructor usage example:**
```java
// Using all-args constructor
User user = new User(1L, "John", "john@example.com", "password123");

// Using no-args constructor
User user2 = new User();
user2.setName("John");
```

![Constructor Parameters Popup](assets/constructor-parameters-popup.png)

### Builder Pattern Implementation

- **@Builder annotation**: Implements builder design pattern automatically
- **Step-by-step creation**: Build complex objects incrementally
- **Method chaining**: Fluent API for object construction
- **Optional fields**: Ideal for objects with many optional properties

```java
@Getter
@Setter
@AllArgsConstructor
@NoArgsConstructor
@Builder
public class User {
    private Long id;
    private String name;
    private String email;
    private String password;
}
```

**Builder pattern usage:**
```java
// Using builder pattern
User user = User.builder()
    .name("John")
    .email("john@example.com")
    .password("password123")
    .build();
```

![Builder Pattern Code Example](assets/builder-pattern-code-example.png)

## Testing Lombok Integration

- **Test location**: StoreApplication main method
- **Simple testing**: Create plain user object (temporary break from Spring)
- **Verification**: Access generated getters and setters
- **IDE support**: IntelliJ shows generated methods in autocomplete

```java
@SpringBootApplication
public class StoreApplication {
    public static void main(String[] args) {
        // Test Lombok-generated methods
        var user = new User();
        user.setName("John");
        user.setEmail("john@example.com");
        user.setPassword("password123");
        
        // Using builder pattern
        User builderUser = User.builder()
            .name("John")
            .email("john@example.com")
            .password("password123")
            .build();
        
        SpringApplication.run(StoreApplication.class, args);
    }
}
```

![Lombok Methods in Autocomplete](assets/lombok-methods-autocomplete.png)

**Testing verification:**
- Generated getters and setters appear in IDE autocomplete
- Constructor overloads available as expected
- Builder methods work with method chaining
- No compilation errors with annotation processing enabled

## Key Points

- **Main takeaway**: Lombok eliminates boilerplate code by generating getters, setters, constructors, and utility methods at compile time through annotations
- **Setup requirement**: Must enable annotation processing in IntelliJ settings for first-time Lombok usage
- **JPA compatibility**: Use both @AllArgsConstructor and @NoArgsConstructor to satisfy JPA entity requirements while maintaining flexibility
- **Builder pattern**: @Builder annotation provides fluent API for creating complex objects with optional fields through method chaining
- **IDE integration**: IntelliJ provides intelligent suggestions and quick actions (Alt+Enter) for applying Lombok annotations
- **Compile-time generation**: All methods generated during compilation, not runtime, ensuring no performance overhead
- **Code maintainability**: Significantly reduces repetitive code while maintaining full functionality and IDE support
- **Dependency management**: Added through standard Maven dependency or IDE starter integration
- **Method chaining**: Builder pattern allows flexible object construction with readable, step-by-step initialization
- **Professional usage**: Industry-standard library for reducing Java boilerplate in enterprise applications

## Links/References

- Video: 4.7.2-Simplifying-Code-with-Lombok.mp4 (05:54)
- Previous: [Defining Entities](4.7.1-Defining-Entities.md)
- Next: Entity Relationships and Mapping
- Tool: [Project Lombok](https://projectlombok.org/) (official website)

---

**Created**: July 31, 2025  
**Last Modified**: July 31, 2025
