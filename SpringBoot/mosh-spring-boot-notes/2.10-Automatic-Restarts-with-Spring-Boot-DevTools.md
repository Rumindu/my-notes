# Automatic Restarts with Spring Boot DevTools

<!-- omit from toc -->
## Table of Contents
- [Introduction to DevTools](#introduction-to-devtools)
- [Adding DevTools Dependency](#adding-devtools-dependency)
  - [Quick File Navigation:](#quick-file-navigation)
  - [Adding Dependency via IntelliJ:](#adding-dependency-via-intellij)
  - [DevTools Dependency Configuration:](#devtools-dependency-configuration)
  - [Configuration Details:](#configuration-details)
- [IntelliJ IDEA Configuration](#intellij-idea-configuration)
  - [Accessing Settings:](#accessing-settings)
  - [Setting 1: Build Project Automatically](#setting-1-build-project-automatically)
  - [Setting 2: Advanced Settings](#setting-2-advanced-settings)
  - [Settings Summary:](#settings-summary)
- [Testing Automatic Restart](#testing-automatic-restart)
  - [Starting Application:](#starting-application)
  - [Making Code Changes:](#making-code-changes)
  - [Automatic Restart Process:](#automatic-restart-process)
  - [Verifying Restart:](#verifying-restart)
- [Limitations and Considerations](#limitations-and-considerations)
  - [Performance Limitations:](#performance-limitations)
  - [Developer Preferences:](#developer-preferences)
  - [Production Considerations:](#production-considerations)
  - [Fixing the Demo Change:](#fixing-the-demo-change)
- [Key Points](#key-points)
- [Links/References](#linksreferences)

## Introduction to DevTools
- **Problem**: Manual restart required after every code change
- **Solution**: Spring Boot DevTools for automatic restarts
- **Performance**: Not as fast as Node.js or React hot reload
- **Trade-off**: Some delay but saves manual restart effort
- **Development tool**: Only for development, not production
![DevTools Concept Overview](assets/spring-boot-devtools-concept.png)

## Adding DevTools Dependency
### Quick File Navigation:
- **Shortcut**: `Shift+Cmd+O` (Mac) or `Shift+Ctrl+O` (Windows)
- **Purpose**: Quick file search and navigation
- **Search**: Type "pom.xml" to find project configuration
![IntelliJ Quick File Search](assets/intellij-quick-file-search-pom.png)

### Adding Dependency via IntelliJ:
1. **Open pom.xml**
2. **Add dependency**: `Cmd+N` (Mac) or `Ctrl+N` (Windows)
3. **Select**: "Dependency" from context menu
4. **Search**: "spring-boot-devtools"
![Adding DevTools Dependency](assets/adding-devtools-dependency-search.png)

### DevTools Dependency Configuration:
```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-devtools</artifactId>
    <!-- Remove version - managed by parent -->
    <optional>true</optional>
</dependency>
```
![DevTools POM Configuration](assets/devtools-pom-xml-configuration.png)

### Configuration Details:
- **Remove version**: Let parent project manage version
- **Optional=true**: Excludes from production packaging
- **Development only**: Not deployed to production environment
- **Maven reload**: Click sync button to download dependency
![Maven Reload DevTools](assets/maven-reload-devtools-dependency.png)

## IntelliJ IDEA Configuration
### Accessing Settings:
- **Mac**: IntelliJ IDEA → Settings
- **Windows**: File → Settings (or Edit → Settings)
- **Purpose**: Enable automatic compilation features
![IntelliJ Settings Menu](assets/intellij-settings-menu-access.png)

### Setting 1: Build Project Automatically
1. **Search**: "compiler" in settings
2. **Navigate**: Build, Execution, Deployment → Compiler
3. **Enable**: "Build project automatically" checkbox
![Build Project Automatically Setting](assets/build-project-automatically-setting.png)

### Setting 2: Advanced Settings
1. **Search**: "advanced settings" in settings
2. **Navigate**: Advanced Settings section
3. **Enable**: "Allow auto-make to start even if developed application is currently running"
![Advanced Auto-make Setting](assets/advanced-auto-make-setting.png)

### Settings Summary:
- **Compiler setting**: Enables automatic compilation
- **Advanced setting**: Allows compilation during runtime
- **Both required**: Need both settings for DevTools to work
- **One-time setup**: Configure once per IntelliJ installation

## Testing Automatic Restart
### Starting Application:
- **Run application**: `Ctrl+R` as usual
- **DevTools active**: Monitors for file changes
- **Ready state**: Application running with restart capability
![Application Running with DevTools](assets/application-running-devtools-active.png)

### Making Code Changes:
```java
@RequestMapping("/")
public String index() {
    String viewName = getViewName();
    return viewName; // Change from "index.html" to "index"
}
```
![Code Change Example](assets/devtools-code-change-example.png)

### Automatic Restart Process:
1. **Save file**: IntelliJ auto-saves changes
2. **Detection**: DevTools detects file modification
3. **Restart trigger**: After small delay (few seconds)
4. **Console output**: Shows restart activity
![DevTools Restart Console Output](assets/devtools-restart-console-output.png)

### Verifying Restart:
- **Browser refresh**: Test changes immediately
- **No manual restart**: Application restarted automatically
- **Error demonstration**: Shows change took effect
![Browser After Auto Restart](assets/browser-after-devtools-restart.png)

## Limitations and Considerations
### Performance Limitations:
- **Not instant**: Has noticeable delay compared to hot reload
- **Slower than**: Node.js or React development servers
- **JVM restart**: Full application context restart required
- **Acceptable trade-off**: Better than manual restart

### Developer Preferences:
- **Manual control**: Some developers prefer `Ctrl+R`
- **Personal choice**: DevTools usage is optional
- **Course consideration**: Popular tool worth covering
- **Workflow flexibility**: Can disable if preferred

### Production Considerations:
- **Development only**: `optional=true` excludes from production
- **No performance impact**: Not included in deployed JAR
- **Safe to use**: Won't affect production builds

### Fixing the Demo Change:
```java
private String getViewName() {
    return "index.html"; // ← Fixed: Restore .html extension
}
```
![Fixing Demo Code Change](assets/fixing-demo-code-change.png)

## Key Points
- **Main takeaway**: DevTools provides automatic restart during development
- **Setup required**: Add dependency + configure IntelliJ settings
- **Two settings**: Build automatically + advanced auto-make
- **Optional dependency**: Excluded from production builds
- **Performance trade-off**: Slower than hot reload but better than manual
- **Developer choice**: Can use or disable based on preference
- **Quick navigation**: `Shift+Cmd+O` for fast file access
- **Version management**: Let Spring Boot parent handle dependency versions

## Links/References
- Video: 2.10-Automatic-Restarts-with-Spring-Boot-DevTools.mp4 (3m 37s)
- Previous: [Debugging Spring Boot Applications](2.9-Debugging-Spring-Boot-Applications.md)
- Next: Spring Boot Auto-Configuration

---
**Created**: July 30, 2025  
**Last Modified**: July 30, 2025
