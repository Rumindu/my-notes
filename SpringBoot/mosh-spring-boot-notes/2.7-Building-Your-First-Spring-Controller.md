# Building Your First Spring Controller

<!-- omit from toc -->
## Table of Contents
- [Understanding Spring MVC](#understanding-spring-mvc)
- [MVC Components Explained](#mvc-components-explained)
  - [Model](#model)
  - [View](#view)
  - [Controller](#controller)
- [Creating the Controller Class](#creating-the-controller-class)
  - [Steps:](#steps)
  - [Package Structure:](#package-structure)
- [Adding Controller Annotations](#adding-controller-annotations)
  - [@Controller Annotation](#controller-annotation)
  - [What are Annotations?](#what-are-annotations)
- [Mapping Requests to Methods](#mapping-requests-to-methods)
  - [Creating Index Method](#creating-index-method)
  - [@RequestMapping Annotation](#requestmapping-annotation)
  - [URL Mapping Options:](#url-mapping-options)
  - [Method Return Value:](#method-return-value)
- [Creating the View (HTML)](#creating-the-view-html)
  - [Folder Structure Setup:](#folder-structure-setup)
  - [Creating HTML File:](#creating-html-file)
  - [HTML Content:](#html-content)
  - [Static Resources Location:](#static-resources-location)
- [Complete Application Structure](#complete-application-structure)
  - [Project Layout:](#project-layout)
  - [Request Flow:](#request-flow)
- [Key Points](#key-points)
- [Links/References](#linksreferences)

## Understanding Spring MVC
- **Spring MVC**: Model-View-Controller pattern for web applications
- **Part of**: Spring Framework (included in spring-boot-starter-web)
- **Purpose**: Clean separation of application concerns
- **Benefits**: Easier to manage and scale web applications
![Spring MVC Architecture](assets/spring-mvc-architecture-diagram.png)

## MVC Components Explained
### Model
- **Purpose**: Application data and business logic
- **Connection**: Usually linked to database or data sources
- **Implementation**: Simple Java classes in Spring Boot
- **Role**: Manages application state and data

### View
- **Purpose**: User interface layer (what user sees)
- **Technologies**: HTML, CSS, JavaScript
- **Types**: Static files or dynamic (using Thymeleaf, etc.)
- **Output**: Rendered content displayed in browser

### Controller
- **Purpose**: Traffic controller for incoming requests
- **Function**: Handles requests, interacts with model, directs view
- **Role**: Coordinates between user input and application response
![MVC Flow Diagram](assets/mvc-request-response-flow.png)

## Creating the Controller Class
### Steps:
1. **Navigate** to Java package folder
2. **Right-click** → New → Java Class
3. **Name**: `HomeController`
4. **Git prompt**: Add to repository (select "Don't ask again")
![Creating Controller Class](assets/creating-home-controller-class.png)

### Package Structure:
- **Location**: `src/main/java/com/codewithmosh/store/`
- **File**: `HomeController.java`
- **Purpose**: Handle web requests for homepage

## Adding Controller Annotations
### @Controller Annotation
```java
@Controller
public class HomeController {
    // Controller methods go here
}
```
![Controller Annotation Import](assets/controller-annotation-import.png)

**Annotation Details**:
- **Symbol**: `@Controller`
- **Package**: `org.springframework.stereotype`
- **Purpose**: Tells Spring this class handles web requests
- **Function**: Marks class as web controller component

### What are Annotations?
- **Definition**: Labels or tags added to code
- **Purpose**: Provide instructions to compiler/framework
- **Usage**: Applied to classes, methods, fields, parameters
- **Spring usage**: Configuration and component identification

## Mapping Requests to Methods
### Creating Index Method
```java
@Controller
public class HomeController {
    
    @RequestMapping("/")
    public String index() {
        return "index.html";
    }
}
```
![Request Mapping Method](assets/request-mapping-method-code.png)

### @RequestMapping Annotation
- **Package**: `org.springframework.web`
- **Source**: Part of web starter dependency
- **Argument**: URL pattern (`"/"` for root)
- **Function**: Maps HTTP requests to handler methods

### URL Mapping Options:
- **Root**: `"/"` - Homepage
- **About**: `"/about"` - About page
- **Contact**: `"/contact"` - Contact page
![URL Mapping Examples](assets/url-mapping-examples.png)

### Method Return Value:
- **Type**: String
- **Content**: View name to render
- **Example**: `"index.html"`
- **Purpose**: Tells Spring which view to display

## Creating the View (HTML)
### Folder Structure Setup:
1. **Navigate** to `src/main/resources/`
2. **Create** new folder: `static`
3. **Purpose**: Contains static web files (HTML, CSS, JS)
![Creating Static Folder](assets/creating-static-folder.png)

### Creating HTML File:
1. **Right-click** static folder
2. **New** → HTML File
3. **Name**: `index.html`
![Creating Index HTML](assets/creating-index-html-file.png)

### HTML Content:
```html
<!DOCTYPE html>
<html>
<head>
    <title>Store Application</title>
</head>
<body>
    <h1>Hello World</h1>
</body>
</html>
```
![Index HTML Content](assets/index-html-hello-world.png)

### Static Resources Location:
- **Path**: `src/main/resources/static/`
- **Purpose**: Spring Boot automatically serves files from this location
- **Files**: HTML, CSS, JavaScript, images

## Complete Application Structure
### Project Layout:
```
src/
├── main/
│   ├── java/
│   │   └── com/codewithmosh/store/
│   │       ├── StoreApplication.java
│   │       └── HomeController.java
│   └── resources/
│       ├── static/
│       │   └── index.html
│       └── application.properties
└── test/
```
![Complete Project Structure](assets/complete-project-structure-with-controller.png)

### Request Flow:
1. **User** visits root URL (`/`)
2. **Spring** routes request to `HomeController.index()`
3. **Method** returns `"index.html"`
4. **Spring** serves file from `static/` folder
5. **Browser** displays "Hello World"

## Key Points
- **Main takeaway**: Spring MVC separates concerns with Model, View, Controller pattern
- **@Controller**: Annotation marks class as web request handler
- **@RequestMapping**: Maps URL patterns to handler methods
- **Static files**: Served automatically from `src/main/resources/static/`
- **Return value**: Method returns view name as String
- **Clean architecture**: Controller handles routing, view handles presentation
- **Next step**: Building and running the application to test controller

## Links/References
- Video: 2.7-Building-Your-First-Spring-Controller.mp4 (4m 13s)
- Previous: [Dependency Management](2.6-Dependency-Management.md)
- Next: Building and Running Applications

---
**Created**: July 30, 2025  
**Last Modified**: July 30, 2025
